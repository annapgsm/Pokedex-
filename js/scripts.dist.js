let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t?e.push(t):console.log("pokemon is not correct")}function o(){return e}function n(e){return a(),fetch(e.detailsUrl).then(e=>e.json()).then(t=>{l(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types}).catch(e=>{l(),console.error(e)})}function i(e){pokemonRepository.loadDetails(e).then(function(){var t;t=e,$("#pokemonModalLabel").text(t.name),$("#modal-image").attr("src",t.imageUrl).attr("alt",t.name),$("#modal-height").text("Height: "+t.height),$("#modal-weight").text("Weight: "+t.weight),$("#modal-types").text("Types: "+t.types.map(e=>e.type.name).join(", ")),$("#pokemonModal").modal("show")})}function a(){let e=document.createElement("p");e.innerText="Loading...",e.classList.add("loading-message"),document.body.appendChild(e)}function l(){let e=document.querySelector(".loading-message");e&&e.remove()}return{getAll:o,add:t,filterByName:function t(o){let n=o.trim().toLowerCase();return e.filter(function(e){return e.name.toLowerCase().includes(n)})},addListItem:function e(t){let o=document.querySelector(".pokemon-list");n(t).then(function(){let e=document.createElement("div");e.classList.add("col-md-2","mb-4","d-flex","justify-content-center");let n=document.createElement("div");n.classList.add("card","w-100","text-center");let a=document.createElement("div");a.classList.add("card-body");let l=document.createElement("h5");l.classList.add("card-title","text-capitalize"),l.innerText=t.name,a.appendChild(l);let r=document.createElement("img");r.classList.add("card-img-bottom","img-fluid"),r.alt=t.name,r.src=t.imageUrl,n.style.cursor="pointer",n.addEventListener("click",function(){i(t)}),n.appendChild(a),n.appendChild(r),e.appendChild(n),o.appendChild(e)})},loadList:function e(){return a(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let o={name:e.name,detailsUrl:e.url};t(o),console.log(o)})}).catch(function(e){l(),console.error(e)})},loadDetails:n,showDetails:i,showLoadingMessage:a,hideLoadingMessage:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.hideLoadingMessage()}),$(document).ready(function(){$("#pokemon-search-form").on("submit",function(e){e.preventDefault(),console.log("Intercepted submit on #pokemon-search-form");let t=$('#pokemon-search-form input[type="search"]').val().toLowerCase(),o=pokemonRepository.filterByName(t);$(".pokemon-list").empty(),o.forEach(function(e){pokemonRepository.addListItem(e)})})}),window.addEventListener("scroll",function(){let e=document.getElementById("scrollToTopBtn");window.scrollY>250?e.classList.add("show"):e.classList.remove("show")}),document.getElementById("scrollToTopBtn").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});